# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions –¥–ª—è Yandex Music Client

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–ª–∏–∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Yandex Music Client.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ê–∫—Ç–∏–≤–∞—Ü–∏—è Actions

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Settings** –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –í—ã–±–µ—Ä–∏—Ç–µ **Actions** ‚Üí **General**
3. –í–∫–ª—é—á–∏—Ç–µ **Actions** –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è Actions

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Secrets (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã:

```bash
# –í Settings ‚Üí Secrets and variables ‚Üí Actions –¥–æ–±–∞–≤—å—Ç–µ:
SLACK_WEBHOOK_URL=your_slack_webhook_url
DISCORD_WEBHOOK_URL=your_discord_webhook_url
DEPLOY_TOKEN=your_deploy_token
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–æ–∫

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Branches**
2. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤–µ—Ç–æ–∫ `main` –∏ `develop`
3. –í–∫–ª—é—á–∏—Ç–µ required status checks –¥–ª—è –≤—Å–µ—Ö workflow

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
.github/
‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îú‚îÄ‚îÄ build.yml              # –°–±–æ—Ä–∫–∞ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
‚îÇ   ‚îú‚îÄ‚îÄ release.yml            # –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test.yml              # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ security.yml          # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ dependency-update.yml # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ version-bump.yml      # –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ changelog.yml         # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è changelog
‚îÇ   ‚îú‚îÄ‚îÄ deploy.yml            # –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ auto-release.yml      # –ê–≤—Ç–æ—Ä–µ–ª–∏–∑
‚îÇ   ‚îú‚îÄ‚îÄ dependabot.yml        # –ê–≤—Ç–æ–º–µ—Ä–∂ Dependabot
‚îÇ   ‚îú‚îÄ‚îÄ prerelease.yml        # Pre-release –≤–µ—Ä—Å–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ notifications.yml     # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ cleanup.yml           # –û—á–∏—Å—Ç–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ backup.yml            # –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ monitoring.yml        # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îú‚îÄ‚îÄ ISSUE_TEMPLATE/
‚îÇ   ‚îú‚îÄ‚îÄ bug_report.md         # –®–∞–±–ª–æ–Ω –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ feature_request.md    # –®–∞–±–ª–æ–Ω –∑–∞–ø—Ä–æ—Å–∞ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ dependabot.yml            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Dependabot
‚îú‚îÄ‚îÄ branch-protection.yml     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–æ–∫
‚îú‚îÄ‚îÄ pull_request_template.md  # –®–∞–±–ª–æ–Ω PR
‚îî‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Actions
```

## üîß Workflows

### –û—Å–Ω–æ–≤–Ω—ã–µ Workflows

| Workflow | –¢—Ä–∏–≥–≥–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|
| `build.yml` | Push/PR | –°–±–æ—Ä–∫–∞ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º |
| `release.yml` | Tags | –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤ |
| `test.yml` | Push/PR | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–∏–Ω—Ç–∏–Ω–≥ |
| `security.yml` | Push/PR/Schedule | –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

| Workflow | –¢—Ä–∏–≥–≥–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|
| `dependency-update.yml` | Schedule | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| `version-bump.yml` | Push | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ |
| `changelog.yml` | Tags | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è changelog |
| `auto-release.yml` | Push | –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤ |

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

| Workflow | –¢—Ä–∏–≥–≥–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|
| `notifications.yml` | Workflow completion | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| `cleanup.yml` | Schedule | –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| `backup.yml` | Schedule | –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `monitoring.yml` | Schedule | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è |

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥
git tag v1.0.0
git push origin v1.0.0

# 2. Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –°–æ–±–µ—Ä—É—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
# - –°–æ–∑–¥–∞–¥—É—Ç GitHub Release
# - –°–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç changelog
# - –ó–∞–≥—Ä—É–∑—è—Ç —Ñ–∞–π–ª—ã
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** –≤ GitHub
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π workflow
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow**
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### Pre-release

```bash
# –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è beta –≤–µ—Ä—Å–∏–∏
git push origin develop

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Actions ‚Üí Pre-release ‚Üí Run workflow
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CodeQL

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Security** ‚Üí **Code scanning**
2. –í–∫–ª—é—á–∏—Ç–µ **CodeQL analysis**
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Dependabot

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Security** ‚Üí **Dependabot alerts**
2. –í–∫–ª—é—á–∏—Ç–µ alerts –¥–ª—è npm –∏ Cargo
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ PR

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –î–∞—à–±–æ—Ä–¥

- **Actions**: –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö workflow
- **Security**: –£—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏ alerts
- **Insights**: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### –û—Ç—á–µ—Ç—ã

- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Performance –º–µ—Ç—Ä–∏–∫–∏

## üõ†Ô∏è –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `notifications.yml`:

```yaml
# –î–æ–±–∞–≤—å—Ç–µ webhook URL –≤ secrets
SLACK_WEBHOOK_URL: your_webhook_url
DISCORD_WEBHOOK_URL: your_webhook_url
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `deploy.yml`:

```yaml
# –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ —Å–µ—Ä–≤–µ—Ä—ã
DEPLOY_TOKEN: your_deploy_token
DEPLOY_SERVER: your_server_url
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

–ò–∑–º–µ–Ω–∏—Ç–µ cron –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ workflow —Ñ–∞–π–ª–∞—Ö:

```yaml
schedule:
  - cron: '0 9 * * 1-5'  # –ö–∞–∂–¥—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å –≤ 9:00
```

## üö® Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **Build fails**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Actions

2. **Release –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–≥ —Å–æ–∑–¥–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (`v*`)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ jobs –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ

3. **Dependencies –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Dependabot
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ `dependabot.yml`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è PR

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ workflow
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ failed job
3. –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `debug` workflow –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ Docker images
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ matrix builds

### –°—Ç–æ–∏–º–æ—Å—Ç—å

- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ self-hosted runners –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ retention policies

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Actions

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏–∏ actions –≤ workflow —Ñ–∞–π–ª–∞—Ö
# –ù–∞–ø—Ä–∏–º–µ—Ä, actions/checkout@v4 ‚Üí actions/checkout@v5
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö workflow

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π `.yml` —Ñ–∞–π–ª –≤ `.github/workflows/`
2. –°–ª–µ–¥—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
3. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Tauri Documentation](https://tauri.app/docs/)
- [Rust Documentation](https://doc.rust-lang.org/)

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ

- GitHub Discussions
- Tauri Discord
- Rust Community

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í—Å–µ workflow –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Tauri 2.x –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Node.js –∏ Rust. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
